@page "/priority"

<HeadContent>
    <SectionOutlet SectionName="image_id_string" />
</HeadContent>

<div class="container mx-auto px-6 md:px-12 lg:px-24">
    <nav class="mb-10">
        <ul class="flex space-x-6">
            <li>
                <a href="/priority#e1" class="underline text-blue-600 hover:text-blue-800 font-semibold transition duration-300">
                    Priority (Eager) Loading
                </a>
            </li>
            <li>
                <a href="/priority#e2" class="underline text-green-600 hover:text-green-800 font-semibold transition duration-300 flex items-center">
                    Priority (Eager) Loading with Preload
                    <span class="ml-2 bg-green-100 text-green-600 text-xs font-semibold px-2.5 py-0.5 rounded dark:bg-green-200 dark:text-green-900">New</span>
                </a>
            </li>
        </ul>
    </nav>

    <section class="py-8">
        <h1 id="e1" class="text-3xl font-extrabold text-gray-900 mb-4 tracking-tight">Priority (Eager) Loading</h1>
        <p class="text-lg text-gray-700 leading-relaxed mb-6">
            The <code class="bg-gray-100 text-gray-800 font-mono px-2 py-1 rounded">Priority</code> attribute instructs BlazorImage to load this image with high urgency.
            This is particularly beneficial for images that are immediately visible upon page load, such as hero banners or key product visuals.
        </p>
        <div class="rounded-lg shadow-md overflow-hidden border border-gray-200 max-w-5xl mx-auto">
            <div class="relative ">
                <Image Src="/images/photo.jpeg"
                       Alt="Priority loaded image"
                       Width="1200"
                       Height="400"
                       Priority="true"
                       AspectRatio="(16, 9)"
                       Caption="Priority (Eager) Loading"
                       CaptionClass="p-5 text-sm italic" />

            </div>
        </div>
        <div class="mt-6 text-gray-600">
            <h2 class="text-xl font-semibold mb-3">When to prioritize:</h2>
            <ul class="list-disc pl-6 space-y-2">
                <li>The largest image visible in the initial viewport.</li>
                <li>Images crucial for a positive first impression and user experience.</li>
                <li>Elements located above the fold.</li>
                <li>Generally limit to 1-3 critical images per page for optimal performance.</li>
            </ul>
        </div>
        <div class="mt-8 rounded-md bg-gray-100 p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">Code Example</h3>
            <pre class="bg-gray-200 rounded-md overflow-x-auto p-4 font-mono text-sm text-gray-900"><code>
&lt;Image Src="/hero-image.jpg"
       Alt="Hero image"
       Width="1200"
       Height="600"
       Priority="true" /&gt; &lt;!-- Enables priority loading --&gt;
</code></pre>
        </div>
    </section>

    <section class="py-8">
        <h1 id="e2" class="text-3xl font-extrabold text-gray-900 mb-4 tracking-tight">Priority (Eager) Loading with Preload <span class="bg-green-100 text-green-600 text-xs font-semibold ml-2 px-2.5 py-0.5 rounded dark:bg-green-200 dark:text-green-900">New</span></h1>
        <p class="text-lg text-gray-700 leading-relaxed mb-6">
            Leveraging <code class="bg-gray-100 text-gray-800 font-mono px-2 py-1 rounded">&lt;link rel="preload"&gt;</code> allows the browser to initiate the loading of an image resource as early as possible, even before it's encountered in the DOM. This technique significantly enhances the loading speed for critical above-the-fold images.
        </p>
        <div class="rounded-lg shadow-md overflow-hidden border border-gray-200 max-w-5xl mx-auto">
            <div class="relative aspect-w-16 aspect-h-9">
                <Image Id="image_id_string"
                       Src="/images/photo.jpeg"
                       Alt="Preload image"
                       Width="1200"
                       Height="600"
                       Priority="true"
                       AspectRatio="(16, 9)"
                       Caption="Priority (Eager) Loading with Preload"
                       CaptionClass="p-5 text-sm italic" />

            </div>
        </div>
        <div class="mt-6 text-gray-600">
            <h2 class="text-xl font-semibold mb-3">When to use priority with preload:</h2>
            <ul class="list-disc pl-6 space-y-2">
                <li>Ensure the preloaded image is indeed visible early in the page rendering process to avoid unnecessary bandwidth consumption.</li>
            </ul>
        </div>
        <div class="mt-8 rounded-md bg-gray-100 p-6">
            <h3 class="text-lg font-semibold text-gray-800 mb-3">Code Example</h3>
            <pre class="bg-gray-200 rounded-md overflow-x-auto p-4 font-mono text-sm text-gray-900"><code>
&lt;HeadContent&gt;
    &lt;SectionOutlet SectionName="image_id_string" /&gt; &lt;!-- SectionName for image id --&gt;
&lt;/HeadContent&gt;

&lt;Image
    Id="image_id_string" &lt;!-- Add a unique image id --&gt;
    Priority="true"    &lt;!-- Enables priority loading and preload --&gt;
    Src="/hero-image.jpg"
    Alt="Hero image"
    Width="1200"
    Height="600" /&gt;
</code></pre>
        </div>
    </section>
</div>
